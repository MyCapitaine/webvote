<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="style/style.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery-3.2.0.js"></script>
    <script type="text/javascript" src="js/bootstrap.js"></script>
</head>
<body>
<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="/">网投</a>
        </div>

        <ul th:if="${currentUser} eq null" class="nav navbar-nav navbar-right">
            <li><a href="signup"><span class="glyphicon glyphicon-user"></span> 注册</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> 登录</a></li>
        </ul>
        <ul th:unless="${currentUser} eq null" class="nav navbar-nav navbar-right">
            <li><a href="#" ><span class="glyphicon glyphicon-user" th:text="${currentUser.loginname}"></span> </a></li>
            <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> 退出</a></li>
        </ul>
    </div>
</nav>

<script th:inline="javascript">
    var user = [[${currentUser}]];
</script>
<div th:fragment="random" th:object="${currentUser}" th:if="${currentUser}!=null">
    <p th:text="*{loginname}" >3333</p>
    <p th:text="${validate}">233</p>
    <button type="button" class="btn btn-danger" id="random2" >random</button>
</div>
<script>
    $(document).ready(function(){
        console.log(user);
        $("#random").click(function(){
            console.log("click");
            $.post("/random",
                {
                },
                function(data){
                    console.log(data);
                    //$("html").html(data);
                }
            );
        });
    });
</script>
</body>
</html>